<svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Fond -->
  <rect width="900" height="600" fill="#ffffff" />
  <rect x="0" y="0" width="900" height="80" fill="#e6f7ed" />
  <rect x="0" y="80" width="100" height="520" fill="#d1f0de" />
  
  <!-- Titre -->
  <text x="450" y="50" font-family="Arial" font-size="36" text-anchor="middle" font-weight="bold" fill="#2c3e50">IBC API/API Gateway</text>
  
  <!-- Séparateur -->
  <line x1="50" y1="90" x2="850" y2="90" stroke="#4caf50" stroke-width="3" />
  
  <!-- Contenu principal -->
  <g transform="translate(130, 150)">
    <!-- Icônes à gauche -->
    <rect x="-15" y="-15" width="30" height="30" fill="#4caf50" />
    <text x="0" y="5" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">1</text>
    
    <rect x="-15" y="65" width="30" height="30" fill="#4caf50" />
    <text x="0" y="85" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">2</text>
    
    <rect x="-15" y="145" width="30" height="30" fill="#4caf50" />
    <text x="0" y="165" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">3</text>
    
    <rect x="-15" y="225" width="30" height="30" fill="#4caf50" />
    <text x="0" y="245" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">4</text>
    
    <rect x="-15" y="305" width="30" height="30" fill="#4caf50" />
    <text x="0" y="325" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">5</text>
    
    <rect x="-15" y="385" width="30" height="30" fill="#4caf50" />
    <text x="0" y="405" font-family="Arial" font-size="18" text-anchor="middle" fill="#ffffff">6</text>
    
    <!-- Texte -->
    <text x="30" y="0" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Extraction et décodage du certificat</text>
    <text x="30" y="30" font-family="Arial" font-size="16" fill="#7f8c8d">Récupération et traitement du certificat client en base64</text>
    
    <text x="30" y="80" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Extraction de l'attribut NAN</text>
    <text x="30" y="110" font-family="Arial" font-size="16" fill="#7f8c8d">Récupération des identifiants spécifiques du certificat</text>
    
    <text x="30" y="160" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Conversion des formats JSON</text>
    <text x="30" y="190" font-family="Arial" font-size="16" fill="#7f8c8d">DVOP → DDV pour les requêtes</text>
    <text x="30" y="210" font-family="Arial" font-size="16" fill="#7f8c8d">RDDV → RDVOP pour les réponses</text>
    
    <text x="30" y="240" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Mapping code retours HTTP</text>
    <text x="30" y="270" font-family="Arial" font-size="16" fill="#7f8c8d">Transformation pour les messages d'erreurs</text>
    <text x="30" y="290" font-family="Arial" font-size="16" fill="#7f8c8d">Gestion uniforme des réponses d'erreur</text>
    
    <text x="30" y="320" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Production d'une synthèse de traitements</text>
    <text x="30" y="350" font-family="Arial" font-size="16" fill="#7f8c8d">Suivi par transaction (Erreur/Succès)</text>
    <text x="30" y="370" font-family="Arial" font-size="16" fill="#7f8c8d">Statistiques et rapports sur les opérations</text>
    
    <text x="30" y="400" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Gestion des timeouts API GW</text>
    <text x="30" y="430" font-family="Arial" font-size="16" fill="#7f8c8d" text-decoration="underline" fill="#e74c3c">/ibancheck_inbound</text>
    <text x="250" y="430" font-family="Arial" font-size="16" fill="#7f8c8d">et</text>
    <text x="270" y="430" font-family="Arial" font-size="16" fill="#7f8c8d" text-decoration="underline" fill="#e74c3c">/ibancheck_supervision</text>
  </g>
  
  <!-- Éléments graphiques décoratifs -->
  <circle cx="830" cy="150" r="40" fill="#4caf50" fill-opacity="0.2" />
  <circle cx="780" cy="180" r="25" fill="#4caf50" fill-opacity="0.3" />
  <circle cx="850" cy="200" r="15" fill="#4caf50" fill-opacity="0.4" />
  
  <rect x="700" y="400" width="150" height="150" rx="20" fill="#f8f9fa" stroke="#e0e0e0" stroke-width="1" />
  <text x="775" y="480" font-family="Arial" font-size="16" text-anchor="middle" fill="#2c3e50">API Gateway</text>
  <text x="775" y="505" font-family="Arial" font-size="14" text-anchor="middle" fill="#7f8c8d">Fonctionnalités clés</text>
  
  <!-- Pied de page -->
  <rect x="0" y="570" width="900" height="30" fill="#e6f7ed" />
  <text x="450" y="590" font-family="Arial" font-size="12" text-anchor="middle" fill="#7f8c8d">Service IBANCHECK - Présentation API Gateway</text>
</svg>
